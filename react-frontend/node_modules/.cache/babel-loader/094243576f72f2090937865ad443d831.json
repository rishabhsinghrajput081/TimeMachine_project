{"ast":null,"code":"import { Color } from 'three';\nimport { Pass } from './Pass.js';\nclass RenderPass extends Pass {\n  constructor(scene, camera, overrideMaterial = null, clearColor = null, clearAlpha = null) {\n    super();\n    this.scene = scene;\n    this.camera = camera;\n    this.overrideMaterial = overrideMaterial;\n    this.clearColor = clearColor;\n    this.clearAlpha = clearAlpha;\n    this.clear = true;\n    this.clearDepth = false;\n    this.needsSwap = false;\n    this._oldClearColor = new Color();\n  }\n  render(renderer, writeBuffer, readBuffer /*, deltaTime, maskActive */) {\n    const oldAutoClear = renderer.autoClear;\n    renderer.autoClear = false;\n    let oldClearAlpha, oldOverrideMaterial;\n    if (this.overrideMaterial !== null) {\n      oldOverrideMaterial = this.scene.overrideMaterial;\n      this.scene.overrideMaterial = this.overrideMaterial;\n    }\n    if (this.clearColor !== null) {\n      renderer.getClearColor(this._oldClearColor);\n      renderer.setClearColor(this.clearColor, renderer.getClearAlpha());\n    }\n    if (this.clearAlpha !== null) {\n      oldClearAlpha = renderer.getClearAlpha();\n      renderer.setClearAlpha(this.clearAlpha);\n    }\n    if (this.clearDepth == true) {\n      renderer.clearDepth();\n    }\n    renderer.setRenderTarget(this.renderToScreen ? null : readBuffer);\n    if (this.clear === true) {\n      // TODO: Avoid using autoClear properties, see https://github.com/mrdoob/three.js/pull/15571#issuecomment-465669600\n      renderer.clear(renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil);\n    }\n    renderer.render(this.scene, this.camera);\n\n    // restore\n\n    if (this.clearColor !== null) {\n      renderer.setClearColor(this._oldClearColor);\n    }\n    if (this.clearAlpha !== null) {\n      renderer.setClearAlpha(oldClearAlpha);\n    }\n    if (this.overrideMaterial !== null) {\n      this.scene.overrideMaterial = oldOverrideMaterial;\n    }\n    renderer.autoClear = oldAutoClear;\n  }\n}\nexport { RenderPass };","map":null,"metadata":{},"sourceType":"module"}